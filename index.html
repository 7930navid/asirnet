<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page title</title>
    <style>
body {
    background: white;
}
#header { 
       display:flex; 
       align-items:center; 
       justify-content:space-between; 
       padding:20px; 
       background:lightyellow; 
       border-bottom:5px solid green; 
       width: 100%;
       }
#header h1 { 
       margin:0; 
       color:green; 
       text-shadow:0 0 10px lightgreen; 
       }
#header h1 span { 
       margin-left:5px; 
       color:#ffe76ae7; 
       text-shadow:0 0 5px green;
       }
#header p {
       font-size: 10px;
       }
#header button { 
       width:50px; 
       height:50px; 
       border:2px solid red; 
       border-radius:8px; background:white; 
       cursor:pointer; 
       box-shadow:0 0 8px red; 
       color: red;
       font-size: 30px;
       }

#logo {
    margin-top: 100px;
    background: #35d2c9;
    border: 30px solid lightgreen;
    margin: 30px;
    padding: 20px;
    border-radius: 60px;
    box-shadow: 0 0 30px green;
}
#logo p { 
       margin:0; 
       color:green; 
       text-shadow:0 0 10px lightgreen; 
       font-size: 100px;
       text-align: center;
           }
#logo p span { 
       margin-left:5px; 
       color:#ffe76ae7; 
       text-shadow:0 0 5px green;
       }
table button {
    width: 250px;
    height: 150px;
    font-size: 30px;
    border-radius: 90%;
    background: lightyellow;
    border: 5px solid red;
    font-weight: bold;
    color: red;
}
#change {
    padding: 20px;
}
input {
            padding: 15px;
            margin: 15px;
            color: red;
            font-size: 14px;
            background: lightcyan;
            border: 2px solid green;
            width: 500px;
            border-radius: 20px;
        }
input:focus {
            box-shadow : 0 0 10px green;
        }
#submit {
    width: 20%;
    background: lightyellow;
    padding: 15px;
    font-size: 30px;
    border-radius: 20px;
    border: 2px solid green;
    color: green;
    margin-top: 20px;
}
#clear {
    width: 20%;
    background: lightpink;
    padding: 15px;
    font-size: 30px;
    border-radius: 20px;
    border: 2px solid red;
    color: red;
    margin-top: 20px;
    margin-right: 20px;
}
hr {
    background: green;
    height: 2px;
}
h2 {
    color: green;
}
.crossbtn {
    background: none;
    padding: 10px;
    font-size: 50px;
    border-radius: 90px;
    color: red;
    border: none;
    height: 50px;
    width: 50px;
    margin-bottom: 15px;

}
#alert { 
       position:fixed; 
       top:0; 
       left:0; 
       width: 100%; 
       height:100%; 
       background:rgba(0,0,0,0.5); 
       display: none; 
       z-index:10000; 
       } 
#alert div {
    width: 80%;
    height: 80%;
    background: white;
    margin: 90px;
    padding: 30px;
    border-radius: 20px;
}
#focus { 
       position:fixed; 
       top:0; 
       left:0; 
       width: 100%; 
       height:100%; 
       background:rgba(0,0,0,0.5); 
       display: none; 
       z-index:10000; 
       } 

#focus div {
    width: 80%;
    height: 70%;
    background: white;
    margin: 90px;
    padding: 30px;
    border-radius: 20px;
}
#bio {
    width: 300px;
    margin-top: 20px;
    border: 1px solid green;
    border-radius: 20px;
    height: 190px;
    padding: 20px;
    font-size: 20px;
    color: red;
    font-family: 'SolaimanLipi', 'Noto Sans Bengali', Arial, sans-serif;
  
}
    </style>
</head>
<body>
    <div id="header">
     <h1>Asir<span>Net</span><p> a product of <a href="https://7930navid.github.io/W-deploy/">W-deploy</a></p></h1>
  <button id="menuBtn" onclick="customalert()">?</button>
</div>

<div id="change"> 
    <header>
        <div id="logo">
            <p style="color: blue;">Welcome <br> To The <p style="color: red;">Compound <br> Of</p></p>
            <p style="background: lightyellow; padding: 10px; border-radius: 50px; box-shadow: 0 0 20px yellow; ">Asir<span>Net</span></p>
        </div>
    </header>
    <table border="0" style="width: 100%;">
        <tr>
            <td style="padding-left: 100px;">
            <button onclick="reg()">
                Sing Up
            </button></td>
            <td>
           <button onclick="login()">
                Sing In
            </button></td>
        </tr>
    </table>
    </div>
    
  <div id="alert">
      <div>
       <section style="text-align: right;">
     <button onclick="closealert('alert')" class="crossbtn">×</button>
 </section><h1 style="color: green;">Help</h1> <hr>  
      </div>
  </div>
   <script> 
 function reg() {
 document.getElementById("change").innerHTML = `
<div style="text-align: right;">
     <button onclick="location.reload()" class="crossbtn">×</button>
 </div> <h2><i>Sing Up</i></h2>
 <hr>
 <table border="0" style="width: 100%;"><tr><td>
 <input type="text" placeholder="Enter your name..." id="username"/><br>
 <input type="text" placeholder="Enter your email..." id="useremail"/><br>
    <input type="password" placeholder="Enter your access key..." id="password"/>
 
   </td>
   <td>
       <textarea id="bio" placeholder="Add a focus or goal"></textarea>  
 
   </td>
   </tr></table>
    <br>
 <div style="text-align: right;">
              <button onclick="clearinfolog()" id="clear">Clear </button>
              <button onclick="register()" id="submit">Submit </button>
         </div>   `;   
 }        
 function login() {
 document.getElementById("change").innerHTML = `<div style="text-align: right;">
     <button onclick="location.reload()" class="crossbtn">×</button>
 </div> <h2><i>Sing In</i></h2>
 <hr>
 <input type="text" placeholder="Enter your email..." id="loginemail"/><br>
    <input type="password" placeholder="Enter your access key..." id="loginpass"/>
    <br>
 <div style="text-align: right;">
              <button onclick="clearinfo()" id="clear">Clear </button>
               <button onclick="Login()" id="submit">Submit </button>
`;   
 } 
 function customalert() {
document.getElementById("alert").style.display = 'flex';   
 }
 function closealert(alert) {
document.getElementById(alert).style.display = 'none';   
 }
 function clearinfolog() {
document.getElementById('username').value = "" ;   
document.getElementById('useremail').value = "" ;   
document.getElementById('password').value = "" ;   
document.getElementById('bio').value = "" ;   
 }       
 function clearinfo() {
document.getElementById('loginemail').value = "" ;   
document.getElementById('loginpass').value = "" ;   
 }       
   </script>
<script>
    
async function Login() {
  let loginemail = document.getElementById('loginemail').value;   
  let loginpass = document.getElementById('loginpass').value;   

  if (loginemail && loginpass) {
    try {
      const res = await fetch("http://localhost:3000/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email: loginemail, password: loginpass })
      });

      const data = await res.json();
      if (res.ok) {
        alert(data.message);
        // ✅ এখানে চাইলে localStorage এ user data রাখতে পারো
        localStorage.setItem("user", JSON.stringify(data.user));
        location.href = '/asirnet.html';
      } else {
        alert(data.message);
      }
    } catch (err) {
      alert("Server error: " + err.message);
    }
  } else {
    alert("Please fill the gaps first");
  }
}

async function register() {
    
  let username = document.getElementById('username').value;   
  let useremail = document.getElementById('useremail').value;   
  let password = document.getElementById('password').value; 
 let bio = document.getElementById("bio").value;

  if (username && useremail && password && bio) {
    try {
      const res = await fetch("http://localhost:3000/register", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ username, email: useremail, password, bio})
      });

      const data = await res.json();
      if (res.ok) {
        alert(data.message);
        location.href = '/asirnet.html';
      } else {
        alert(data.message);
      }
    } catch (err) {
      alert("Server error: " + err.message);
    }
  } else {
    alert("Please fill the gaps first");
  }
}    

</script>
</body>
</html>
